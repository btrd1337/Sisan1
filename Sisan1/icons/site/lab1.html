<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru" lang="ru"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Домашняя работа по Web</title><meta name="author" content="Блинов Александр"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 p { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; margin:0pt; }
 .s1 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 h3 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s2 { color: #181818; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s3 { color: #252525; font-family:"Times New Roman", serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s4 { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 11pt; }
 .a { color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s5 { color: #252525; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s7 { color: #0D0D0D; font-family:Helvetica, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li:before {content: "• "; color: black; font-family:"Times New Roman", serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 li {display: block; }
 #l2 {padding-left: 0pt; }
 #l2> li:before {content: "• "; color: black; font-family:Helvetica, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
</style></head><body><h1 style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Telnet</h1><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: justify;">Чтобы воспользоваться Telnet на Mac сначала нужно установить соответствующий пакет. Это удобно сделать с помощью менеджера пакетов Homebrew. Для этого достаточно ввести в терминал команду <b>«brew install telnet»</b>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: left;">Теперь просмотрим содержимое главной страницы ya.ru с помощь Telnet. Для этого вводим следующие команды:</p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: left;">MacBook-Air-Al:~ justcomex$ telnet yandex.ru 80 Trying 5.255.255.70...</p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: left;">Connected to yandex.ru. Escape character is &#39;^]&#39;. GET / HTTP/1.1</p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">HOST:yandex.ru</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Сразу нам приходит ответ на запрос:</p><p class="s1" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">HTTP/1.1 302 Found <b>// Код ответа, что страница по запросу найдена.</b></p><p class="s1" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Date: Sun, 23 Sep 2018 11:19:48 GMT <b>// Время обращения по Гринвичу.</b></p><p class="s1" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Cache-Control: no-cache,no-store,max-age=0,must-revalidate <b>// Определение</b></p><h3 style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// инструкций кэширования для запросов и для ответов.</h3><p class="s1" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Location: https://yandex.ru/ <b>// Расположение страницы.</b></p><p class="s1" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Expires: Sun, 23 Sep 2018 11:19:49 GMT <b>// Время, когда страница</b></p><h3 style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// должна быть удалена из кэша браузера.</h3><p class="s1" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Last-Modified: Sun, 23 Sep 2018 11:19:49 GMT <b>// Время последнего</b></p><h3 style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// изменения пересылаемых данных.</h3><p class="s1" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">P3 P: policyref=&quot;/w3c/p3p.xml&quot;, CP=&quot;NON DSP ADM DEV PSD IVDo OUR IND STP PHY PRE NAV UNI&quot;</p><h3 style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// <span style=" color: #181818;">P3P позволяет веб-сайтам</span></h3><p class="s2" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// выводить свои методы конфиденциальности в стандартном</p><p class="s2" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// (понятном для пользователя) формате.</p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;line-height: 111%;text-align: left;">Set-Cookie: yandexuid=9847298621537701588; Expires=Wed, 20-Sep-2028 11:19:48 GMT; Domain=.yandex.ru; Path=/</p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;line-height: 11pt;text-align: left;">X-Content-Type-Options: nosniff <b>// </b><span class="s3">Отправка cookie с сервера</span></p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// на клиентское приложение (браузер).</p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// <span style=" color: #000;">nosniff инструктирует браузеру отключать контент или отслеживание MIME,</span></p><h3 style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// которое используется для переопределения ответа.</h3><p class="s1" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Content-Length: 0 <b>// </b><span class="s3">Размер тела объекта в десятичном числе байтов,</span></p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// отправленных получателю.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: left;">Так как мы воспользовались HTTP/1.1, а не HTTP/1.0, то наша сессия автоматически не завершилась. Перейдем на другую страницу yandex.ru и проанализируем её. Пусть в этот раз это будет index.html</p><p style="padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: left;">Вводим следующие команды: <span class="s4">GET /index.html HTTP/1.1 HOST: yandex.ru</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Сразу нам приходит ответ на запрос:</p><p class="s1" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">HTTP/1.1 302 Moved Temporarily <b>// Код ответа, что запрошенная мной</b></p><h3 style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">//страница временно перемещена.</h3><p class="s1" style="padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: left;">Date: Sun, 23 Sep 2018 11:34:29 GMT <b>// Время обращения по Гринвичу. </b>Content-Type: text/html // <b>Тип передаваемого контента. </b><a href="http://yandex.ru/" class="a" target="_blank">Location: </a>http://yandex.ru/ <b>// Расположение страницы.</b></p><p class="s1" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">X-Content-Type-Options: nosniff <b>// </b><span class="s3">Отправка cookie с сервера</span></p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// на клиентское приложение (браузер).</p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// <span style=" color: #000;">nosniff инструктирует браузеру отключать контент или отслеживание MIME,</span></p><h3 style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// которое используется для переопределения ответа.</h3><p class="s1" style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Content-Length: 154 <b>// </b><span class="s3">Размер тела объекта в десятичном числе байтов,</span></p><p class="s3" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">// отправленных получателю.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Закроем сессию с помощью команды <b>«logout</b>»<b>:</b></p><p class="s4" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">MacBook-Air-Al:~ justcomex$ logout Saving session...</p><p class="s4" style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;">...copying shared history...</p><p class="s4" style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;">...saving history...truncating history files...</p><p class="s4" style="padding-left: 5pt;text-indent: 0pt;line-height: 13pt;text-align: left;">...completed.</p><p class="s4" style="padding-left: 5pt;text-indent: 0pt;line-height: 200%;text-align: left;">Deleting expired sessions...none found. [Процесс завершен]</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Таким образом, сетевой протокол Telnet позволяет легко соединиться с удаленным портом необходимой нам машины и установить интерактивный канал связи, например, для передачи команд или получения информации. Я же, в свою очередь, строил взаимодействие через протокой HTTP, формируя запросы и ответы. Их структура достаточно проста. В случае запроса, конечно, следует обратиться к руководству, но ответы легко понять и без дополнительной литературы.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Запрос содержит:</p><ul id="l1"><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">HTTP-метод, обычно глагол подобно <b>GET </b>(запрашивает представление указанного ресурса), <b>POST </b>(предназначен для отправки данных на сервер) или существительное, как <b>OPTIONS </b>(используется для описания параметров соединения с ресурсом) или <b>HEAD </b>(запрашивает заголовки, которые возвращаются, если указанный ресурс запрашивается с помощью метода GET), определяющее операцию, которую клиент хочет выполнить. Обычно, клиент хочет получить ресурс или передать значения HTML-формы, хотя и другие операция могут быть необходимы в других случаях.</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Путь к ресурсу.</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Версию HTTP-протокола.</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Заголовки (опционально), предоставляющие дополнительную информацию для сервера.</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Или тело, для некоторых методов, таких как POST, которое содержит отправленный ресурс.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Ответ содержит:</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Версию HTTP-протокола.</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">HTTP код состояния, сообщающий об успешности запроса или причине неудачи.</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Сообщение состояния — краткое описание кода состояния.</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">HTTP-заголовки, подобно заголовкам в запросах.</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Опционально: тело, содержащее пересылаемый ресурс.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Подводя итог, хочется отметить, что сессионный поток позволяет удобно взаимодействовать с удаленными машинами, позволяя их исследовать с помощью простых команд и понятных сообщений.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h1 style="padding-left: 5pt;text-indent: 0pt;line-height: 16pt;text-align: left;">F12 -&gt; Network</h1><p style="padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: left;">Для отслеживания всех сетевых запросов в Google Chrome используется DevTools. Запись запросов начинается автоматически после перехода в окно «Network». Мы можем прекратить запись в любой момент времени, а так же сохранить логи для дальнейшего использования. Кроме этого мы можем захватывать само рабочее окно в момент загрузки или работы, что визуально более удобно позволяет отслеживать, какие конкретно процессы происходят «под капотом» страницы. Еще мы можем изменять практически любые параметры сети, включая скорости соединения, для</p><p style="padding-top: 3pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">анализа работы рассматриваемой страницы.</p><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 110%;text-align: left;">Но основная функция вкладки «Network» — предоставление информации для анализа запросов. В тот момент, когда DevTools открыть он регистрирует все запросы, а мы, в свою очередь, можем их фильтровать или же осуществлять конкретный поиск по параметрам. Нажатие на запрос показывает нам дополнительную о нём информацию: заголовки, превью, ответ, время (статус запроса). В таблице «Запросы» по умолчанию отображаются следующие столбцы:</p></li><li style="padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Имя — имя файла или идентификатор ресурса.</p></li><li style="padding-top: 1pt;padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Статус — код состояния HTTP.</p></li><li style="padding-top: 1pt;padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Тип — тип MIME запрашиваемого ресурса.</p></li><li style="padding-top: 1pt;padding-left: 41pt;text-indent: -36pt;text-align: left;"><p style="display: inline;">Инициатор. Следующие объекты или процессы могут инициировать запросы:</p></li><li style="padding-top: 1pt;padding-left: 52pt;text-indent: -47pt;text-align: left;"><p style="display: inline;">Парсер —HTML-парсер Chrome.</p></li><li style="padding-top: 1pt;padding-left: 52pt;text-indent: -47pt;text-align: left;"><p style="display: inline;">Перенаправление —переадресация HTTP.</p></li><li style="padding-top: 1pt;padding-left: 52pt;text-indent: -47pt;text-align: left;"><p style="display: inline;">Сценарий —функция JavaScript.</p></li><li style="padding-top: 1pt;padding-left: 77pt;text-indent: -72pt;line-height: 110%;text-align: left;"><p style="display: inline;">Другое — некоторые другие процессы или действия, например, переход на страницу по ссылке или ввод URL-адреса в адресной строке.</p></li><li style="padding-left: 41pt;text-indent: -36pt;line-height: 110%;text-align: left;"><p style="display: inline;">Размер — объединенный размер заголовков ответов + тело самого ответа, поставляемое сервером.</p></li><li style="padding-left: 41pt;text-indent: -36pt;line-height: 110%;text-align: left;"><p style="display: inline;">Время — общая продолжительность, начиная с начала запроса до получения окончательного байта в ответе.</p></li></ul><ul id="l2"><li style="padding-left: 16pt;text-indent: -11pt;text-align: left;"><p style="display: inline;">Водопад — визуальная разбивка активности каждого запроса.</p></li></ul><p style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Кроме этих столбцов мы можем ввести свои метрики, используя фильтры. Конечно, мы не можем сказать системе, чтобы она измеряла что-то новое, но в DevTools очень много трекеров.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Таким, образом DevTools позволяет удобно заниматься мониторингом практически любых ресурсов при загрузке исследуемой страницы, что позволяет не только отследить как происходит маршрутизация пакетов при огромном количестве запросов, но и такие вещи, как, например, эффективность технологий, использованных при разработке страницы.</p><p class="s7" style="padding-top: 10pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Wireshark</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Wireshark позволяет «пощупать» пакеты, которые приходят на наш компьютер, и, соответственно, с него уходят. Сразу, когда открываешь приложение, видно, что даже в простое приходит и уходит достаточно большое количество пакетов (верхнее окно).</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Так же мы можем увидеть данные пакетов в том виде, в котором они предаются по сети</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">— в виде наборов шестнадцатеричных чисел (нижнее окно). В среднем окне можно рассмотреть каждый пакет отдельно, если говорить конкретнее, то в нём представлены заголовки протоколов разного уровня: физический, канальный, сетевой, транспортный, прикладной. Если выбрать любой протокол, то его заголовок будет подсвечиваться в нижнем окне. Так же можно открыть подробное описание всех полей любого из протоколов. Мы можем захватить любые пакеты с конкретного ресурса, для этого нужно запустить захват пакетов в Wireshark перед переходом в браузер или тот же Telnet. Для того, чтобы быстро найти определенный пакет, мы должны указать используемый нами ранее протокол для передачи данных в поле фильтра в Wireshark, например, HTTP.</p><p style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Если повторить запрос в Telnet, который был описан в первой части работы, то можно сразу отследить необходимые пакеты по фильтру «HTTP», то есть сам запрос и ответ от сервера. Эти пакеты можно сразу посмотреть в шестнадцатеричном виде, увидеть все заголовки и так же увидеть данные, которые находятся внутри в виде простого текста.</p></body></html>
